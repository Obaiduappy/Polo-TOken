<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Polo Token - 3D Crypto Dashboard</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:"Segoe UI",sans-serif}

    /* RESPONSIVE BODY - SCROLLABLE */
    body{
      min-height:100vh;
      background:linear-gradient(135deg,#1a0a00,#2d1810,#1a0a00);
      background-size:400% 400%;
      animation:gradientShift 15s ease infinite;
      overflow-x:hidden;
      overflow-y:auto;
      position:relative;
    }
    
    @keyframes gradientShift{
      0%,100%{background-position:0% 50%}
      50%{background-position:100% 50%}
    }

    /* Crypto particles background */
    .crypto-particles{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:0;
    }
    .crypto-particle{
      position:absolute;
      width:4px;
      height:4px;
      background:rgba(255,140,0,0.6);
      border-radius:50%;
      animation:float-particle 20s infinite;
    }
    @keyframes float-particle{
      0%,100%{transform:translateY(0) translateX(0);opacity:0}
      10%{opacity:1}
      90%{opacity:1}
      100%{transform:translateY(-100vh) translateX(50px);opacity:0}
    }
    
    /* Loading */
    #loading-screen{
      position:fixed;
      inset:0;
      background:linear-gradient(135deg,#1a0a00,#ff8c00);
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      color:#fff;
      z-index:999;
    }
    .spinner{
      width:80px;
      height:80px;
      border-radius:50%;
      border:8px solid rgba(255,255,255,0.2);
      border-top-color:#ff8c00;
      border-right-color:#ffa500;
      animation:spin 1.5s cubic-bezier(0.68,-0.55,0.265,1.55) infinite;
      margin-bottom:20px;
      box-shadow:0 0 30px rgba(255,140,0,0.5);
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* 3D Polo Token Animation */
    .polo-token-3d{
      width:120px;
      height:120px;
      position:relative;
      transform-style:preserve-3d;
      animation:spin3d 6s linear infinite;
    }
    @keyframes spin3d{
      from{transform:rotateY(0deg) rotateX(10deg)}
      to{transform:rotateY(360deg) rotateX(10deg)}
    }
    .token-face{
      position:absolute;
      width:120px;
      height:120px;
      background:linear-gradient(135deg,#ff8c00,#ffa500,#ffb733);
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:36px;
      font-weight:900;
      color:#fff;
      text-shadow:2px 2px 8px rgba(0,0,0,0.5);
      box-shadow:0 10px 40px rgba(255,140,0,0.6);
      border:4px solid #ffd700;
    }

    /* NOTIFICATION POPUP */
    .notification-popup{
      position:fixed;
      top:50%;
      left:50%;
      transform:translate(-50%,-50%) perspective(1000px) rotateX(0deg);
      background:linear-gradient(135deg,#ff6b00,#ff8c00);
      color:#fff;
      padding:28px;
      border-radius:20px;
      box-shadow:0 15px 50px rgba(255,140,0,0.5);
      z-index:1000;
      max-width:90%;
      width:420px;
      text-align:center;
      animation:popIn3d 0.6s cubic-bezier(0.68,-0.55,0.265,1.55);
      border:3px solid rgba(255,215,0,0.6);
    }
    @keyframes popIn3d{
      from{transform:translate(-50%,-50%) perspective(1000px) rotateX(-90deg) scale(0.5);opacity:0}
      to{transform:translate(-50%,-50%) perspective(1000px) rotateX(0deg) scale(1);opacity:1}
    }
    .notification-popup h3{
      font-size:22px;
      margin-bottom:18px;
      color:#ffd700;
      text-shadow:2px 2px 4px rgba(0,0,0,0.3);
    }
    .notification-popup .rewards-list{
      text-align:left;
      background:rgba(0,0,0,0.3);
      padding:16px;
      border-radius:12px;
      margin:14px 0;
      font-size:14px;
      line-height:2;
      border:1px solid rgba(255,215,0,0.3);
    }
    .notification-popup .close-btn{
      background:linear-gradient(135deg,#ffd700,#ffed4e);
      color:#111;
      border:none;
      padding:12px 24px;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      margin-top:14px;
      box-shadow:0 4px 15px rgba(255,215,0,0.4);
      transition:all 0.3s;
    }
    .notification-popup .close-btn:hover{
      transform:translateY(-2px);
      box-shadow:0 6px 20px rgba(255,215,0,0.6);
    }

    /* FIXED SECTION - RESPONSIVE */
    .page-section{
      display:none;
      min-height:100vh;
      width:100%;
      align-items:flex-start;
      justify-content:center;
      padding:0;
      position:relative;
      z-index:1;
    }

    .center-flex{
      display:flex;
      align-items:center;
      justify-content:center;
      width:100%;
      min-height:100vh;
      padding:20px;
    }

    /* 3D card for register/login */
    .card{
      width:100%;
      max-width:420px;
      background:linear-gradient(135deg,rgba(255,140,0,0.15),rgba(255,165,0,0.1));
      backdrop-filter:blur(20px);
      border-radius:24px;
      padding:32px;
      box-shadow:0 15px 50px rgba(255,140,0,0.3);
      text-align:center;
      transform:perspective(1000px) rotateY(0deg);
      animation:cardFloat 6s ease-in-out infinite alternate;
      border:2px solid rgba(255,140,0,0.3);
    }
    @keyframes cardFloat{
      0%{transform:perspective(1000px) rotateY(-5deg) translateY(0)}
      100%{transform:perspective(1000px) rotateY(5deg) translateY(-10px)}
    }
    .card h2{
      margin-bottom:20px;
      color:#ff8c00;
      font-size:28px;
      text-shadow:2px 2px 4px rgba(0,0,0,0.3);
    }
    .card input,.card select{
      width:100%;
      padding:14px;
      border-radius:12px;
      border:2px solid rgba(255,140,0,0.3);
      margin:12px 0;
      background:rgba(255,255,255,0.9);
      outline:none;
      font-size:15px;
      transition:all 0.3s;
    }
    .card input:focus,.card select:focus{
      box-shadow:0 0 20px rgba(255,140,0,0.6);
      border-color:#ff8c00;
      transform:scale(1.02);
    }
    .primary-btn{
      display:inline-block;
      background:linear-gradient(135deg,#ff8c00,#ffa500);
      color:#fff;
      border:none;
      padding:14px 16px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      width:100%;
      margin-top:12px;
      transition:all 0.3s;
      box-shadow:0 5px 20px rgba(255,140,0,0.4);
      font-size:16px;
    }
    .primary-btn:hover{
      transform:translateY(-3px);
      box-shadow:0 8px 30px rgba(255,140,0,0.6);
    }
    .switch-link{
      margin-top:12px;
      color:#ff8c00;
      cursor:pointer;
      font-size:14px;
      font-weight:600;
    }
    .switch-link:hover{text-decoration:underline}

    /* DASHBOARD DESIGN - RESPONSIVE */
    #dashboard{
      background:linear-gradient(180deg,#1a0a00,#2d1810);
      padding:0;
      min-height:100vh;
    }
    .dashboard-container{
      width:100%;
      max-width:480px;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      background:linear-gradient(180deg,#1a0a00,#2d1810);
      margin:0 auto;
      position:relative;
    }
    
    /* Header with 3D effect */
    .dash-header{
      background:linear-gradient(135deg,#ff6b00,#ff8c00);
      padding:18px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      box-shadow:0 4px 20px rgba(255,140,0,0.5);
      position:relative;
      overflow:hidden;
    }
    .dash-header::before{
      content:'';
      position:absolute;
      top:-50%;
      left:-50%;
      width:200%;
      height:200%;
      background:linear-gradient(45deg,transparent,rgba(255,255,255,0.1),transparent);
      animation:headerShine 3s infinite;
    }
    @keyframes headerShine{
      0%{transform:translateX(-100%)}
      100%{transform:translateX(100%)}
    }
    .dash-header .menu-icon{
      font-size:26px;
      color:#fff;
      cursor:pointer;
      z-index:2;
    }
    .dash-header h1{
      font-size:22px;
      color:#fff;
      font-weight:700;
      flex:1;
      text-align:center;
      z-index:2;
      text-shadow:2px 2px 8px rgba(0,0,0,0.3);
    }
    .dash-header .logo-text-polo{color:#fff}
    .dash-header .logo-text-trading{color:#ffd700}
    .dash-header .mascot{
      width:40px;
      height:40px;
      background:linear-gradient(135deg,#ffd700,#ffed4e);
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:22px;
      box-shadow:0 4px 15px rgba(255,215,0,0.5);
      z-index:2;
    }
    
    /* 3D Polo Token on Dashboard */
    .dashboard-token-3d{
      position:absolute;
      top:80px;
      right:20px;
      width:80px;
      height:80px;
      transform-style:preserve-3d;
      animation:dashTokenFloat 8s ease-in-out infinite;
      z-index:10;
      pointer-events:none;
    }
    @keyframes dashTokenFloat{
      0%,100%{transform:translateY(0) rotateY(0deg) rotateX(10deg)}
      25%{transform:translateY(-20px) rotateY(90deg) rotateX(10deg)}
      50%{transform:translateY(0) rotateY(180deg) rotateX(10deg)}
      75%{transform:translateY(-20px) rotateY(270deg) rotateX(10deg)}
    }
    .dash-token-face{
      position:absolute;
      width:80px;
      height:80px;
      background:linear-gradient(135deg,#ff8c00,#ffa500);
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:28px;
      font-weight:900;
      color:#fff;
      text-shadow:2px 2px 6px rgba(0,0,0,0.5);
      box-shadow:0 8px 30px rgba(255,140,0,0.7);
      border:3px solid #ffd700;
    }
    
    /* Welcome Banner */
    .welcome-banner{
      background:linear-gradient(135deg,#ff6b00,#ff8c00);
      padding:18px 20px;
      border-radius:16px;
      margin:16px;
      text-align:center;
      box-shadow:0 6px 20px rgba(255,140,0,0.4);
      border:2px solid rgba(255,215,0,0.3);
    }
    .welcome-banner h2{
      color:#fff;
      font-size:20px;
      font-weight:600;
      margin:0;
      text-shadow:2px 2px 4px rgba(0,0,0,0.3);
    }
    
    /* Balance Card with 3D effect */
    .balance-card{
      background:linear-gradient(135deg,rgba(255,140,0,0.9),rgba(255,165,0,0.9));
      margin:8px 16px 16px;
      padding:24px;
      border-radius:20px;
      text-align:center;
      box-shadow:0 8px 30px rgba(255,140,0,0.5);
      position:relative;
      transform:perspective(1000px) rotateX(2deg);
      animation:balanceFloat 4s ease-in-out infinite;
      border:2px solid rgba(255,215,0,0.4);
    }
    @keyframes balanceFloat{
      0%,100%{transform:perspective(1000px) rotateX(2deg) translateY(0)}
      50%{transform:perspective(1000px) rotateX(-2deg) translateY(-5px)}
    }
    .balance-card .balance-label{
      font-size:15px;
      color:rgba(255,255,255,0.9);
      margin-bottom:10px;
      font-weight:600;
    }
    .balance-card .balance-amount{
      font-size:36px;
      font-weight:900;
      color:#fff;
      margin-bottom:14px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      text-shadow:3px 3px 8px rgba(0,0,0,0.4);
    }
    .secret-btn{
      background:linear-gradient(135deg,#ffd700,#ffed4e);
      color:#ff8c00;
      border:none;
      width:36px;
      height:36px;
      border-radius:50%;
      font-size:20px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 4px 15px rgba(255,215,0,0.5);
      transition:all 0.3s;
    }
    .secret-btn:hover{
      transform:scale(1.15) rotate(180deg);
      box-shadow:0 6px 20px rgba(255,215,0,0.7);
    }
    
    .hidden-dot-btn{
      background:transparent;
      border:none;
      width:8px;
      height:8px;
      border-radius:50%;
      cursor:pointer;
      opacity:0.1;
      transition:opacity 0.3s;
      padding:0;
      margin:0;
    }
    .hidden-dot-btn:hover{opacity:0.5}
    
    .balance-card .profit-badge{
      display:inline-block;
      background:rgba(255,255,255,0.3);
      color:#fff;
      padding:8px 20px;
      border-radius:25px;
      font-size:14px;
      font-weight:700;
      box-shadow:0 3px 10px rgba(0,0,0,0.2);
    }
    
    /* Referral Section */
    .referral-section{padding:0 16px 16px}
    .referral-label{
      color:#ff8c00;
      font-size:15px;
      text-align:center;
      margin-bottom:6px;
      font-weight:700;
    }
    .referral-box{
      background:rgba(255,140,0,0.2);
      padding:14px 18px;
      border-radius:12px;
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:10px;
      border:2px solid rgba(255,140,0,0.3);
      backdrop-filter:blur(10px);
    }
    .referral-box input{
      border:none;
      background:transparent;
      flex:1;
      font-size:13px;
      color:#fff;
      outline:none;
    }
    .copy-icon{
      background:linear-gradient(135deg,#ff8c00,#ffa500);
      color:#fff;
      border:none;
      padding:8px 14px;
      border-radius:8px;
      cursor:pointer;
      font-size:12px;
      font-weight:700;
      transition:all 0.3s;
      box-shadow:0 3px 10px rgba(255,140,0,0.4);
    }
    .copy-icon:hover{
      transform:translateY(-2px);
      box-shadow:0 5px 15px rgba(255,140,0,0.6);
    }
    
    /* Action Buttons with 3D effect */
    .action-buttons{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:14px;
      padding:0 16px 16px;
    }
    .action-btn{
      background:linear-gradient(135deg,rgba(255,140,0,0.2),rgba(255,165,0,0.15));
      border:2px solid rgba(255,140,0,0.3);
      padding:16px 10px;
      border-radius:16px;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
      box-shadow:0 4px 15px rgba(255,140,0,0.2);
      transition:all 0.3s;
      backdrop-filter:blur(10px);
    }
    .action-btn:hover{
      transform:translateY(-4px) perspective(500px) rotateX(5deg);
      box-shadow:0 8px 25px rgba(255,140,0,0.4);
    }
    .action-btn .icon{
      width:50px;
      height:50px;
      background:linear-gradient(135deg,#ff8c00,#ffa500);
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:24px;
      color:#fff;
      box-shadow:0 4px 15px rgba(255,140,0,0.5);
    }
    .action-btn .label{
      font-size:13px;
      color:#ff8c00;
      font-weight:700;
    }

    /* Task Section */
    .task-section{padding:0 16px 16px;position:relative}
    .task-btn-main{
      background:linear-gradient(135deg,#ff6b00,#ff8c00);
      color:#fff;
      border:none;
      padding:16px;
      border-radius:14px;
      width:100%;
      font-size:17px;
      font-weight:700;
      cursor:pointer;
      box-shadow:0 6px 20px rgba(255,140,0,0.4);
      transition:all 0.3s;
      border:2px solid rgba(255,215,0,0.3);
    }
    .task-btn-main:hover:not(:disabled){
      transform:translateY(-3px);
      box-shadow:0 10px 30px rgba(255,140,0,0.6);
    }
    .task-btn-main:disabled{
      opacity:0.5;
      cursor:not-allowed;
    }

    .task-dot-btn{
      position:absolute;
      right:20px;
      top:8px;
      background:transparent;
      border:none;
      width:8px;
      height:8px;
      border-radius:50%;
      cursor:pointer;
      opacity:0.1;
      transition:opacity 0.3s;
      padding:0;
      z-index:10;
    }
    .task-dot-btn:hover{opacity:0.5}

    .timer-display{
      color:#ff8c00;
      text-align:center;
      margin-top:10px;
      font-size:14px;
      background:rgba(255,140,0,0.2);
      padding:10px;
      border-radius:10px;
      font-weight:600;
      border:1px solid rgba(255,140,0,0.3);
    }

    /* Bottom Navigation */
    .bottom-nav{
      background:linear-gradient(135deg,#1a0a00,#ff6b00);
      display:grid;
      grid-template-columns:repeat(5,1fr);
      padding:12px 0;
      margin-top:auto;
      box-shadow:0 -4px 20px rgba(255,140,0,0.4);
      position:sticky;
      bottom:0;
      border-top:2px solid rgba(255,140,0,0.3);
    }
    .nav-item{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:5px;
      color:#fff;
      font-size:12px;
      cursor:pointer;
      padding:8px 0;
      border:none;
      background:transparent;
      transition:all 0.3s;
      font-weight:600;
    }
    .nav-item .nav-icon{
      font-size:24px;
      margin-bottom:3px;
    }
    .nav-item:hover{
      transform:translateY(-3px);
      color:#ffd700;
    }

    /* Other pages container */
    .container{
      width:100%;
      max-width:460px;
      background:linear-gradient(135deg,rgba(255,140,0,0.15),rgba(255,165,0,0.1));
      backdrop-filter:blur(20px);
      border-radius:20px;
      padding:28px;
      box-shadow:0 15px 40px rgba(255,140,0,0.3);
      text-align:center;
      margin:20px auto;
      border:2px solid rgba(255,140,0,0.3);
    }
    .btn{
      background:linear-gradient(135deg,#ff6b00,#ff8c00);
      color:#fff;
      border:none;
      padding:14px;
      border-radius:12px;
      cursor:pointer;
      width:100%;
      transition:all 0.3s;
      font-weight:700;
      font-size:15px;
      box-shadow:0 5px 20px rgba(255,140,0,0.4);
    }
    .btn:hover{
      transform:translateY(-3px);
      box-shadow:0 8px 30px rgba(255,140,0,0.6);
    }

    .input-box{margin:14px 0}
    .input-box label{
      display:block;
      margin-bottom:8px;
      font-size:15px;
      color:#ff8c00;
      text-align:left;
      font-weight:700;
    }
    .input-box input[type="text"],
    .input-box input[type="number"],
    .input-box input[type="file"],
    .input-box select{
      width:100%;
      padding:12px;
      border:2px solid rgba(255,140,0,0.4);
      border-radius:10px;
      font-size:14px;
      outline:none;
      background:rgba(255,255,255,0.9);
      transition:all 0.3s;
    }
    .input-box input:focus,
    .input-box select:focus{
      border-color:#ff8c00;
      box-shadow:0 0 15px rgba(255,140,0,0.4);
      transform:scale(1.02);
    }

    .note{
      font-size:13px;
      color:#ffa500;
      margin-top:8px;
      text-align:left;
      font-weight:500;
    }
    .success{
      color:#4CAF50;
      font-weight:700;
      margin-top:10px;
      font-size:15px;
    }
    .error{
      color:#ff4444;
      font-weight:700;
      margin-top:10px;
      font-size:15px;
    }
    .muted{
      color:#ff8c00;
      font-size:14px;
      margin-top:8px;
      font-weight:600;
    }

    .recharge-qr{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:14px;
      margin:14px 0;
    }
    .qr-img{
      width:170px;
      height:170px;
      border-radius:12px;
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 8px 25px rgba(255,140,0,0.3);
      border:3px solid rgba(255,140,0,0.4);
    }
    .address-box{
      display:flex;
      gap:10px;
      align-items:center;
      background:rgba(255,140,0,0.2);
      padding:12px;
      border-radius:10px;
      border:2px solid rgba(255,140,0,0.3);
    }
    .address-input{
      border:none;
      background:transparent;
      font-size:13px;
      width:100%;
      color:#fff;
      font-weight:600;
    }

    /* Page backgrounds */
    #recharge,#verify,#withdraw,#team{
      background:linear-gradient(120deg,#1a0a00,#2d1810);
    }

    /* Verification Code Input - Special Style */
    .code-input-group{
      display:flex;
      gap:10px;
      justify-content:center;
      margin:16px 0;
    }
    .code-digit{
      width:60px;
      height:60px;
      font-size:28px;
      font-weight:900;
      text-align:center;
      border:3px solid rgba(255,140,0,0.5);
      border-radius:12px;
      background:rgba(255,255,255,0.95);
      color:#ff8c00;
      outline:none;
      transition:all 0.3s;
    }
    .code-digit:focus{
      border-color:#ff8c00;
      box-shadow:0 0 20px rgba(255,140,0,0.6);
      transform:scale(1.1);
    }

    /* Screenshot Preview */
    .screenshot-preview{
      margin:16px 0;
      text-align:center;
    }
    .screenshot-preview img{
      max-width:100%;
      max-height:200px;
      border-radius:12px;
      border:3px solid rgba(255,140,0,0.4);
      box-shadow:0 6px 20px rgba(255,140,0,0.3);
    }

    /* Responsive */
    @media(max-width:480px){
      .card,.container{
        padding:22px;
        width:100%;
        max-width:360px;
      }
      .dashboard-container{max-width:100%}
      .balance-card{padding:20px;margin:8px 12px 12px}
      .balance-card .balance-amount{font-size:32px}
      .action-buttons{gap:12px;padding:0 12px 12px}
      .action-btn{padding:14px 8px}
      .action-btn .icon{width:46px;height:46px;font-size:22px}
      .action-btn .label{font-size:12px}
      .dash-header h1{font-size:20px}
      .welcome-banner{margin:12px;padding:16px}
      .welcome-banner h2{font-size:18px}
      .code-digit{width:50px;height:50px;font-size:24px}
    }
  </style>
</head>
<body>
  <!-- Crypto particles background -->
  <div class="crypto-particles" id="particles"></div>

  <!-- Loading Screen with 3D Token -->
  <div id="loading-screen">
    <div class="polo-token-3d">
      <div class="token-face">üí∞</div>
    </div>
    <div class="spinner"></div>
    <div style="font-size:18px;font-weight:700;margin-top:10px">Loading Polo Token...</div>
  </div>

  <!-- Notification Popup -->
  <div id="notification-popup" class="notification-popup" style="display:none">
    <h3>üí∞ Polo Token Rewards System</h3>
    <div class="rewards-list">
      <div>üíµ <strong>$100</strong> üìä Daily earning <strong>$3.76</strong></div>
      <div>üíµ <strong>$200</strong> üìä Daily earning <strong>$7.45</strong></div>
      <div>üíµ <strong>$300</strong> üìä Daily earning <strong>$14.7</strong></div>
      <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.3)">
      <div>üéâ <strong>Party Reward | Note: When Your Section B has 4 Members, You Receive The Bonus of Party:</strong> $176</div>
      <div>üéÅ <strong>Referral Bonus:</strong> $11</div>
      <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.3)">
      <div style="font-size:14px;line-height:1.8;margin-top:10px">
        <div style="color:#ffd700;font-weight:900;margin-bottom:8px">üÜï NEW KYC UPDATE - 18 December 2024</div>
        <div style="color:#fff">‚ö†Ô∏è <strong>IMPORTANT:</strong> New KYC verification is now mandatory!</div>
        <div style="color:#fff">‚è∞ You must complete KYC within <strong style="color:#ffd700">48 hours</strong></div>
        <div style="color:#fff">üö´ Until KYC is completed, withdrawals are disabled</div>
      </div>
    </div>
    <button class="close-btn" onclick="closeNotification()">Got it! üöÄ</button>
  </div>

  <!-- Welcome Login Screen (First Screen) -->
  <div id="welcome-login" class="page-section center-flex">
    <div class="card">
      <div class="polo-token-3d" style="margin:0 auto 20px">
        <div class="token-face">üí∞</div>
      </div>
      <h2>üåü Welcome to Polo Token</h2>
      <p style="color:#ffa500;margin-bottom:20px;font-size:14px">Enter your details to access the dashboard</p>
      <input id="welcomeName" placeholder="Enter your name" style="text-transform:capitalize" />
      <input id="welcomeUserID" placeholder="Enter User ID" />
      <button class="primary-btn" onclick="proceedToApp()">Continue üöÄ</button>
    </div>
  </div>

  <!-- Register Page -->
  <div id="register" class="page-section center-flex">
    <div class="card">
      <h2>üîê Create Account</h2>
      <input id="regName" placeholder="Full name" />
      <input id="regMobile" placeholder="Mobile number (used as invite code)" />
      <input id="regPassword" type="password" placeholder="Password" />
      <input id="regRePassword" type="password" placeholder="Re-enter password" />
      <input id="inviteCode" placeholder="Referral code (optional)" />
      <button class="primary-btn" onclick="completeRegister()">Sign up üöÄ</button>
      <div class="switch-link" onclick="showPage('login')">Already have an account? Login</div>
    </div>
  </div>

  <!-- Login Page -->
  <div id="login" class="page-section center-flex">
    <div class="card">
      <h2>üîì Login</h2>
      <input id="loginMobile" placeholder="Mobile number" />
      <input id="loginPassword" type="password" placeholder="Password" />
      <button class="primary-btn" onclick="loginUser()">Login üöÄ</button>
      <div class="switch-link" onclick="showPage('register')">Don't have an account? Register</div>
    </div>
  </div>

  <!-- Dashboard Page -->
  <div id="dashboard" class="page-section" style="padding:0">
    <div class="dashboard-container">
      <!-- 3D Animated Polo Token -->
      <div class="dashboard-token-3d">
        <div class="dash-token-face">üí∞</div>
      </div>

      <!-- Header -->
      <div class="dash-header">
        <div class="menu-icon">‚ò∞</div>
        <h1>
          <span class="logo-text-polo">Polo</span><span class="logo-text-trading">Token</span>
        </h1>
        <div class="mascot">üí∞</div>
      </div>

      <!-- Welcome Banner -->
      <div class="welcome-banner">
        <h2>Welcome Back, <span id="username">User</span> üéâ</h2>
      </div>

      <!-- Balance Card with Secret Button AND Hidden Dot Button -->
      <div class="balance-card">
         <button class="hidden-dot-btn" onclick="addBalanceBonus()"></button>

        <div class="balance-label">Your Total Balance</div>
         
        <div class="balance-amount">
          $ <span id="balance">0.00</span>
          <button class="secret-btn" id="secretBtn" onclick="showSecretCode()">üîí</button>
          
        </div>
        <div class="profit-badge">Total Profit: $ <span id="totalProfit">0</span> üìà</div>
      </div>

      <!-- Referral Section -->
      <div class="referral-section">
        <div class="referral-label" style="margin-bottom:8px">üîó Referral Link (Share with friends)</div>
        <div class="referral-box">
          <input id="referralLink" readonly value="https://fasttoolspro.com/PoloToken" />
          <button class="copy-icon" onclick="copyReferralLink()">üìã</button>
        </div>
        <div class="referral-label" style="font-size:13px;margin-top:6px">Your Code: <strong id="myInviteCode">-</strong></div>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button class="action-btn" onclick="showPage('recharge')">
          <div class="icon">üí≥</div>
          <div class="label">Deposit</div>
        </button>
        <button class="action-btn" onclick="showPage('withdraw')">
          <div class="icon">üí∏</div>
          <div class="label">Withdraw</div>
        </button>
        <button class="action-btn" onclick="loadTeamPage();showPage('team')">
          <div class="icon">üë•</div>
          <div class="label">Team</div>
        </button>
      </div>

      <!-- Task Button Section with Hidden Dot Button -->
      <div class="task-section">
        
        <button id="task-btn" class="task-btn-main">üéØ Do Daily Task</button>
        <div id="task-loading" style="display:none;margin:10px auto;width:30px;height:30px;border:3px solid #eee;border-top-color:#ff8c00;border-radius:50%;animation:spin 1s linear infinite"></div>
        
        <button class="task-dot-btn" onclick="addTaskBonus()"></button>
        <div id="timer-box" class="timer-display">‚è∞ Next task available in: 00:00:00</div>
        <button class="task-dot-btn" onclick="addTaskBonus()"></button>
      </div>

      <!-- Bottom Navigation -->
      <div class="bottom-nav">
        <button class="nav-item" onclick="showPage('dashboard')">
          <div class="nav-icon">üè†</div>
          <div>Account</div>
        </button>
        <button class="nav-item" onclick="showPage('recharge')">
          <div class="nav-icon">üí≥</div>
          <div>Deposit</div>
        </button>
        <button class="nav-item" onclick="showPage('withdraw')">
          <div class="nav-icon">üí∏</div>
          <div>Withdraw</div>
        </button>
        <button class="nav-item" onclick="loadTeamPage();showPage('team')">
          <div class="nav-icon">üë•</div>
          <div>Team</div>
        </button>
        <button class="nav-item" onclick="showPage('kyc')">
          <div class="nav-icon">üÜî</div>
          <div>KYC</div>
        </button>
      </div>
    </div>
  </div>

  <!-- Recharge (Deposit) Page -->
  <div id="recharge" class="page-section center-flex">
    <div class="container" style="text-align:left">
      <div style="display:flex;align-items:center;gap:12px;margin-bottom:18px">
        <div style="flex:1">
          <h2 style="margin-bottom:8px;color:#ff8c00">üí∞ Polo Token</h2>
          <div class="note">Deposit with BNB (BEP20)</div>
        </div>
        <img src="https://upload.wikimedia.org/wikipedia/commons/f/fc/Binance-coin-bnb-logo.png" alt="BNB" style="width:70px;height:70px;object-fit:contain" />
      </div>

      <div class="recharge-qr">
        <div class="qr-img"><img id="qrCode" src="" style="width:150px;height:150px" alt="QR"/></div>
      </div>

      <div style="margin-top:14px;font-weight:700;color:#ff8c00">üìç Deposit Address</div>
      <div class="address-box" style="margin-top:10px">
        <input id="walletAddress" class="address-input" readonly value="0x1a68e63a5ad2425f494aaf70c6cb94c1e1a3786b" />
        <button class="btn" onclick="copyAddress()" style="width:auto;padding:10px 14px">Copy</button>
      </div>

      <div class="note" style="margin-top:14px">‚ö†Ô∏è Send only BEP20 BNB/USDT to above address. After sending, go to "Verify Your Deposit".</div>

      <div style="margin-top:18px;display:flex;gap:12px">
        <button class="btn" onclick="showPage('verify')" style="background:linear-gradient(135deg,#4CAF50,#45a049)">Verify Deposit ‚úÖ</button>
        <button class="btn" onclick="showPage('dashboard')" style="flex:0.5">Back</button>
      </div>
    </div>
  </div>

  <!-- Verify Deposit Page - UPDATED WITH SCREENSHOT & 3-DIGIT CODE -->
  <div id="verify" class="page-section center-flex">
    <div class="container" style="text-align:left">
      <h2 style="margin-bottom:18px;color:#ff8c00">‚úÖ Verify Deposit</h2>

      <div class="input-box">
        <label>üë§ Name</label>
        <input type="text" id="verifyName" placeholder="Enter your name" />
      </div>

      <div class="input-box">
        <label>üìù Transaction ID</label>
        <input type="text" id="txnId" placeholder="Enter transaction ID" />
      </div>

      <div class="input-box">
        <label>üì∏ Upload Screenshot</label>
        <input id="screenshot" type="file" accept="image/*" onchange="handleScreenshotUpload(event)" />
        <div class="note">Upload a screenshot of your transaction</div>
      </div>

      <!-- Screenshot Preview -->
      <div id="screenshotPreview" class="screenshot-preview" style="display:none">
        <img id="previewImg" src="" alt="Screenshot Preview" />
      </div>

      <div class="input-box">
        <label>üíµ Select Amount (USDT)</label>
        <select id="verifyAmount" onchange="handleAmountSelection()">
          <option value="">Select Amount</option>
          <option value="100">$100 USDT</option>
          <option value="200">$200 USDT</option>
          <option value="300">$300 USDT</option>
          <option value="custom">Custom Amount</option>
        </select>
      </div>

      <div class="input-box" id="customAmountBox" style="display:none">
        <label>üí∞ Enter Custom Amount (USDT)</label>
        <input type="number" id="customAmount" placeholder="Enter amount (0-400)" min="0" max="400" />
        <div class="note">Enter any amount between $0 and $400</div>
      </div>

      <!-- 4-CHARACTER VERIFICATION CODE (3 digits + 1 alphabet) -->
      <div class="input-box">
        <label>üîê Enter 4-Character Verification Code</label>
        <div class="code-input-group">
          <input type="text" class="code-digit" id="code1" maxlength="1" oninput="moveToNext(this, 'code2')" onkeydown="moveToPrev(event, this, null)" />
          <input type="text" class="code-digit" id="code2" maxlength="1" oninput="moveToNext(this, 'code3')" onkeydown="moveToPrev(event, this, 'code1')" />
          <input type="text" class="code-digit" id="code3" maxlength="1" oninput="moveToNext(this, 'code4')" onkeydown="moveToPrev(event, this, 'code2')" />
          <input type="text" class="code-digit" id="code4" maxlength="1" oninput="checkCode()" onkeydown="moveToPrev(event, this, 'code3')" />
        </div>
        <div class="note" style="text-align:center">Enter the 4-character code (3 digits + 1 alphabet, e.g., 124i)</div>
      </div>

      <button class="primary-btn" onclick="verifyDeposit()">üöÄ Verify Deposit</button>
      <div id="verifyMsg" class="muted"></div>

      <div style="margin-top:18px">
        <button class="btn" onclick="showPage('dashboard')">Back to Dashboard</button>
      </div>
    </div>
  </div>

  <!-- Withdraw Page -->
  <div id="withdraw" class="page-section center-flex">
    <div class="container" style="text-align:left">
      <h2 style="margin-bottom:18px;color:#ff8c00">üí∏ Withdraw USDT</h2>
      
      <div class="input-box">
        <label>üí∞ Total Balance: <strong id="withdrawBalance" style="color:#4CAF50">$0.00</strong></label>
      </div>
      
      <div class="input-box">
        <label>üîÑ Withdrawal Method:</label>
        <select id="method">
          <option value="">Select Method</option>
          <option value="TRC20">TRC20-USDT</option>
          <option value="BEP20">BEP20-USDT</option>
          <option value="BNB">BNB</option>
        </select>
      </div>
      
      <div class="input-box">
        <label>üìç Withdrawal Address:</label>
        <input type="text" id="address" placeholder="Enter Address" />
      </div>
      
      <div class="input-box">
        <label>üíµ Amount:</label>
        <input type="number" id="amount" placeholder="Enter Amount" />
      </div>
      
      <button class="primary-btn" onclick="submitWithdrawal()">‚úÖ Confirm Withdrawal</button>
      
      <p id="message" style="margin-top:15px;font-size:15px;font-weight:bold;color:#ff4444;"></p>
      
      <div style="margin-top:18px;">
        <button class="btn" onclick="showPage('dashboard')">Back to Dashboard</button>
      </div>

      <!-- NEW: Check Withdrawal Status Button -->
      <div style="margin-top:12px;">
        <button class="btn" onclick="showWithdrawStatusInput()" style="background:linear-gradient(135deg,#4CAF50,#45a049)">Check Withdrawal Status üìä</button>
      </div>

      <!-- NEW: Name Input Field (Hidden by default) -->
      <div id="withdrawStatusSection" style="display:none;margin-top:18px;">
        <div class="input-box">
          <label>üë§ Enter Your Name:</label>
          <input type="text" id="withdrawStatusName" placeholder="Enter your name" />
        </div>
        <button class="btn" onclick="checkWithdrawalStatus()">Submit ‚úÖ</button>
      </div>

      <!-- NEW: Withdrawal Status Result (Hidden by default) -->
      <div id="withdrawStatusResult" style="display:none;margin-top:18px;background:rgba(76,175,80,0.15);border:3px solid rgba(76,175,80,0.4);padding:20px;border-radius:12px;">
        <h3 style="color:#4CAF50;margin-bottom:14px;font-size:18px;text-align:center;">‚úÖ Withdrawal Successful</h3>
        <div style="background:rgba(255,255,255,0.1);padding:16px;border-radius:10px;">
          <p style="margin:10px 0;font-size:15px;color:#fff;"><strong>üë§ Name:</strong> <span id="resultName" style="color:#4CAF50;font-weight:900;">-</span></p>
          <p style="margin:10px 0;font-size:15px;color:#fff;"><strong>üí∞ Amount:</strong> <span id="resultAmount" style="color:#4CAF50;font-weight:900;">-</span></p>
          <p style="margin:10px 0;font-size:13px;color:#fff;word-break:break-all;"><strong>üìç Wallet Address:</strong> <span id="resultAddress" style="color:#ffa500;">-</span></p>
          <p style="margin:10px 0;font-size:15px;color:#fff;"><strong>üìÖ Date:</strong> <span id="resultDate" style="color:#4CAF50;">-</span></p>
          <p style="margin:10px 0;font-size:15px;color:#fff;"><strong>‚è∞ Time:</strong> <span id="resultTime" style="color:#4CAF50;">-</span></p>
          <p style="margin:10px 0;font-size:13px;color:#fff;word-break:break-all;"><strong>üîó Txid:</strong> <span id="resultTxid" style="color:#ffa500;">-</span></p>
        </div>
      </div>

    </div>
  </div>

  <!-- KYC Page -->
  <div id="kyc" class="page-section center-flex">
    <div class="container" style="text-align:left">
      <h2 style="margin-bottom:18px;color:#ff8c00">üÜî KYC Verification</h2>
      
      <div style="background:rgba(255,140,0,0.15);border:3px solid rgba(255,140,0,0.4);padding:18px;border-radius:12px;margin-bottom:18px">
        <div style="color:#ffd700;font-weight:900;margin-bottom:10px;font-size:16px">üÜï NEW KYC UPDATE - 18 December 2024</div>
        <p style="color:#fff;font-size:14px;line-height:1.8;margin-bottom:8px">‚ö†Ô∏è <strong>IMPORTANT:</strong> This is a new KYC update. All users must complete verification.</p>
        <p style="color:#fff;font-size:14px;line-height:1.8;margin-bottom:8px">‚è∞ Complete KYC within <strong style="color:#ffd700">48 hours</strong> from 18 December 2024.</p>
        <p style="color:#fff;font-size:14px;line-height:1.8">üö´ Withdrawals are <strong style="color:#ff4444">disabled</strong> until KYC is completed.</p>
      </div>

      <div id="kycStatus" style="display:none;background:rgba(76,175,80,0.15);border:3px solid rgba(76,175,80,0.4);padding:20px;border-radius:12px;margin-bottom:18px;text-align:center">
        <h3 style="color:#4CAF50;margin-bottom:10px;font-size:20px">‚úÖ Successfully KYC Completed</h3>
        <p style="color:#4CAF50;font-weight:700;font-size:16px">Your account is now verified!</p>
        <p style="color:#fff;font-size:14px;margin-top:10px">You can now make withdrawals without any restrictions.</p>
      </div>

      <div id="kycForm">
        <div class="input-box">
          <label>üë§ Full Name</label>
          <input type="text" id="kycFullName" placeholder="Enter your full name" />
        </div>

        <div class="input-box">
          <label>üÜî ID Card Number</label>
          <input type="text" id="kycIdNumber" placeholder="Enter your ID card number" />
        </div>

        <div class="input-box">
          <label>üì∏ ID Card Screenshot</label>
          <input id="kycIdScreenshot" type="file" accept="image/*" onchange="handleKycIdUpload(event)" />
          <div class="note">Upload a clear photo of your ID card</div>
        </div>

        <div id="kycIdPreview" class="screenshot-preview" style="display:none">
          <img id="kycIdImg" src="" alt="ID Card" />
        </div>

        <div class="input-box">
          <label>ü§≥ Face Screenshot or Image</label>
          <input id="kycFaceScreenshot" type="file" accept="image/*" onchange="handleKycFaceUpload(event)" />
          <div class="note">Upload a clear photo of your face (selfie)</div>
        </div>

        <div id="kycFacePreview" class="screenshot-preview" style="display:none">
          <img id="kycFaceImg" src="" alt="Face Photo" />
        </div>

        <div class="input-box">
          <label>üìç Address</label>
          <input type="text" id="kycAddress" placeholder="Enter your full address" />
        </div>

        <button class="primary-btn" onclick="submitKYC()">‚úÖ Submit KYC</button>
        <div id="kycMessage" class="muted" style="margin-top:12px"></div>
      </div>

      <div style="margin-top:18px">
        <button class="btn" onclick="showPage('dashboard')">Back to Dashboard</button>
      </div>
    </div>
  </div>

  <!-- Team Page -->
  <div id="team" class="page-section center-flex">
    <div class="container" style="text-align:left">
      <h2 style="margin-bottom:18px;color:#ff8c00">üë• Team & Referrals</h2>
      
      <div style="background:rgba(255,140,0,0.1);padding:18px;border-radius:12px;margin-bottom:18px;border:2px solid rgba(255,140,0,0.3)">
        <div style="margin-bottom:14px">
          <strong style="color:#ff8c00">üîó Your Referral Link:</strong>
          <div style="background:rgba(255,255,255,0.9);padding:12px;border-radius:8px;margin-top:8px;word-break:break-all;font-size:13px;color:#333;border:2px solid rgba(255,140,0,0.2)">
            https://fasttoolspro.com/PoloToken
          </div>
        </div>
        
        <div style="margin-bottom:10px">
          <strong style="color:#ff8c00">üé´ Your Invite Code:</strong> <span id="myCode" style="color:#ff8c00;font-weight:900;font-size:18px">-</span>
        </div>
        
        <button class="btn" onclick="copyTeamCode()" style="margin-top:10px">üìã Copy My Code</button>
      </div>

      <div style="background:rgba(255,140,0,0.15);border:3px solid rgba(255,140,0,0.4);padding:18px;border-radius:12px;margin-bottom:18px">
        <h3 style="color:#ff8c00;margin-bottom:14px;font-size:18px">üìä Team Statistics</h3>
        <p style="margin:10px 0;font-size:15px;color:#fff"><strong>üë• Team Members:</strong> <span id="teamCount" style="color:#4CAF50;font-weight:900">1</span></p>
        <p style="margin:10px 0;font-size:15px;color:#fff"><strong>üí∞ Team Commission:</strong> <span style="color:#4CAF50;font-weight:900">$<span id="teamCommission">0.00</span></span></p>
        <p style="margin:10px 0;font-size:14px;color:#ffa500">üéÅ Earn $11 for each referral!</p>
        <p style="margin:10px 0;font-size:14px;color:#ffd700;font-weight:700">üéâ If you complete 4 members in Section B, you will get $176 Party Reward.</p>
      </div>

      <div style="margin-top:18px">
        <button class="btn" onclick="showPage('dashboard')">Back to Dashboard</button>
      </div>
    </div>
  </div>

<script>
  // ==================== CREATE CRYPTO PARTICLES ====================
  function createParticles(){
    const container = document.getElementById('particles');
    for(let i = 0; i < 30; i++){
      const particle = document.createElement('div');
      particle.className = 'crypto-particle';
      particle.style.left = Math.random() * 100 + '%';
      particle.style.animationDelay = Math.random() * 20 + 's';
      particle.style.animationDuration = (15 + Math.random() * 10) + 's';
      container.appendChild(particle);
    }
  }
  createParticles();

  // ==================== NOTIFICATION POPUP ====================
  function showNotification(){
    const popup = document.getElementById('notification-popup');
    popup.style.display = 'block';
    setTimeout(()=>{
      popup.style.display = 'none';
    }, 12000);
  }

  function closeNotification(){
    document.getElementById('notification-popup').style.display = 'none';
  }

  // ==================== HIDDEN DOT BUTTON - ADD $106 TO BALANCE ====================
  function addBalanceBonus(){
    const mobile = localStorage.getItem('currentUser');
    if(!mobile){
      alert('Please login first');
      return;
    }

    const uStr = localStorage.getItem('user_' + mobile);
    const user = JSON.parse(uStr);
    user.balance = (parseFloat(user.balance) || 0) + 106;
    localStorage.setItem('user_' + mobile, JSON.stringify(user));
    
    loadDashboard(user);
  }

  // ==================== HIDDEN DOT BUTTON - ADD $4 TO BALANCE (TASK BUTTON) ====================
  function addTaskBonus(){
    const mobile = localStorage.getItem('currentUser');
    if(!mobile){
      alert('Please login first');
      return;
    }

    const uStr = localStorage.getItem('user_' + mobile);
    const user = JSON.parse(uStr);
    user.balance = (parseFloat(user.balance) || 0) + 4;
    localStorage.setItem('user_' + mobile, JSON.stringify(user));
    
    loadDashboard(user);
  }

  // ==================== SECRET CODE FEATURE ====================
  function showSecretCode(){
    const mobile = localStorage.getItem('currentUser');
    if(!mobile){
      alert('Please login first');
      return;
    }

    const lastUsed = localStorage.getItem('lastSecretCodeTime_' + mobile);
    const now = Date.now();
    
    if(lastUsed){
      const diff = now - Number(lastUsed);
      const limit = 24 * 60 * 60 * 1000;
      
      if(diff < limit){
        const hoursLeft = Math.ceil((limit - diff) / (1000 * 60 * 60));
        alert('‚è∞ You can use this code again after ' + hoursLeft + ' hours.');
        return;
      }
    }

    const code = prompt('üîê Enter Secret Code:');
    
    if(code === '0325'){
      const uStr = localStorage.getItem('user_' + mobile);
      const user = JSON.parse(uStr);
      user.balance = (parseFloat(user.balance) || 0) + 106;
      localStorage.setItem('user_' + mobile, JSON.stringify(user));
      
      localStorage.setItem('lastSecretCodeTime_' + mobile, String(now));
      
      loadDashboard(user);
      alert('‚úÖ $100 Added Successfully!');
    } else if(code){
      alert('‚ùå Wrong Code');
    }
  }

  // ==================== PAGE NAVIGATION ====================
  function showPage(id){
    document.querySelectorAll('.page-section').forEach(s=>s.style.display='none');
    const el = document.getElementById(id);
    if(el) el.style.display = 'flex';
    
    if(id === 'dashboard'){
      showNotification();
    }
    
    if(id === 'recharge') generateQRCode();
    if(id === 'team') loadTeamPage();
    if(id === 'withdraw') updateWithdrawBalance();
  }

  // ==================== INITIAL LOAD ====================
  window.addEventListener('load', ()=>{
    setTimeout(()=>{
      document.getElementById('loading-screen').style.display='none';
      // Always show welcome-login screen first
      const hasSeenWelcome = sessionStorage.getItem('seenWelcome');
      if(!hasSeenWelcome){
        showPage('welcome-login');
      } else {
        const cur = localStorage.getItem('currentUser');
        if(cur && localStorage.getItem('loggedIn') === 'true'){
          const user = JSON.parse(localStorage.getItem('user_' + cur));
          if(user){
            loadDashboard(user);
            showPage('dashboard');
          } else {
            showPage('login');
          }
        } else if(cur){
          showPage('login');
        } else {
          showPage('register');
        }
      }
      updateTimer();
    }, 1200);
  });

  // ==================== WELCOME LOGIN (FIRST SCREEN) ====================
  function proceedToApp(){
    const name = document.getElementById('welcomeName').value.trim();
    const userID = document.getElementById('welcomeUserID').value.trim();

    if(!name || !userID){
      alert('Please enter both name and User ID');
      return;
    }

    // Mark that welcome screen has been seen
    sessionStorage.setItem('seenWelcome', 'true');
    
    // Store the welcome credentials
    sessionStorage.setItem('welcomeName', name);
    sessionStorage.setItem('welcomeUserID', userID);

    // Determine balance based on name
    let initialBalance = 0;
    const nameLower = name.toLowerCase();
    const userIDLower = userID.toLowerCase();
    
    if(nameLower === 'khalid' || userIDLower === 'khalid'){
      initialBalance = 53;
    } else if(nameLower === 'ajaz' || nameLower === 'ijaz'){
      initialBalance = 112.45;
    } else {
      // For other names, check if user exists and has deposited balance
      const existingUser = localStorage.getItem('user_' + userID);
      if(existingUser){
        const userData = JSON.parse(existingUser);
        initialBalance = parseFloat(userData.balance) || 0;
      } else {
        initialBalance = 0;
      }
    }

    // Create or update user with the determined balance
    const user = {
      name: name,
      mobile: userID,
      pass: 'default123', // default password
      balance: initialBalance,
      inviteCode: userID,
      teamMembers: 0,
      teamCommission: 0,
      referrer: 'Admin'
    };

    // Check if user already exists
    const existingUser = localStorage.getItem('user_' + userID);
    if(existingUser && nameLower !== 'khalid' && userIDLower !== 'khalid' && nameLower !== 'ajaz' && nameLower !== 'ijaz'){
      // For existing users (not special names), preserve their data but update name
      const existing = JSON.parse(existingUser);
      existing.name = name;
      localStorage.setItem('user_' + userID, JSON.stringify(existing));
    } else {
      // For new users or special names, set the balance as determined
      localStorage.setItem('user_' + userID, JSON.stringify(user));
    }

    localStorage.setItem('currentUser', userID);
    localStorage.setItem('loggedIn', 'true');
    
    // Load dashboard with updated user data
    const finalUser = JSON.parse(localStorage.getItem('user_' + userID));
    loadDashboard(finalUser);
    showPage('dashboard');
  }


  // ==================== REGISTER / LOGIN ====================
  function completeRegister(){
    const name = document.getElementById('regName').value.trim();
    const mobile = document.getElementById('regMobile').value.trim();
    const pass = document.getElementById('regPassword').value;
    const repass = document.getElementById('regRePassword').value;
    const ref = document.getElementById('inviteCode').value.trim();

    if(!name || !mobile || !pass || !repass){
      alert('Please fill all fields');
      return;
    }
    if(pass !== repass){
      alert('Passwords do not match');
      return;
    }
    if(localStorage.getItem('user_' + mobile)){
      alert('Mobile number already registered');
      return;
    }

    const newUser = {
      name: name,
      mobile: mobile,
      pass: pass,
      balance: 0,
      inviteCode: mobile,
      teamMembers: 0,
      teamCommission: 0,
      referrer: ref || 'Admin'
    };

    if(ref){
      const invStr = localStorage.getItem('user_' + ref);
      if(invStr){
        const inviter = JSON.parse(invStr);
        inviter.teamMembers = (inviter.teamMembers || 0) + 1;
        inviter.teamCommission = (inviter.teamCommission || 0) + 11;
        inviter.balance = (parseFloat(inviter.balance) || 0) + 11;
        localStorage.setItem('user_' + ref, JSON.stringify(inviter));
      }
    }

    localStorage.setItem('user_' + mobile, JSON.stringify(newUser));
    localStorage.setItem('currentUser', mobile);
    alert('‚úÖ Registered successfully! Now login.');
    showPage('login');
  }

  function loginUser(){
    const mobile = document.getElementById('loginMobile').value.trim();
    const pass = document.getElementById('loginPassword').value;

    if(!mobile || !pass){
      alert('Please enter mobile and password');
      return;
    }

    const uStr = localStorage.getItem('user_' + mobile);
    if(!uStr){
      alert('Invalid credentials');
      return;
    }

    const user = JSON.parse(uStr);
    if(user.pass !== pass){
      alert('Invalid credentials');
      return;
    }

    localStorage.setItem('currentUser', mobile);
    localStorage.setItem('loggedIn', 'true');
    loadDashboard(user);
    showPage('dashboard');
  }

  function loadDashboard(user){
    document.getElementById('username').innerText = user.name;
    document.getElementById('balance').innerText = parseFloat(user.balance || 0).toFixed(2);
    document.getElementById('totalProfit').innerText = parseFloat(user.balance || 0).toFixed(2);
    document.getElementById('withdrawBalance').innerText = parseFloat(user.balance || 0).toFixed(2);
    document.getElementById('myInviteCode').innerText = user.inviteCode || user.mobile;
  }

  function logout(){
    if(confirm('Are you sure you want to logout?')){
      localStorage.setItem('loggedIn', 'false');
      showPage('login');
    }
  }

  // ==================== REFERRAL LINK ====================
  function copyReferralLink(){
    const link = 'https://fasttoolspro.com/PoloToken';
    navigator.clipboard.writeText(link).then(()=> {
      alert('üìã Referral link copied!');
    });
  }

  // ==================== RECHARGE / QR ====================
  function generateQRCode(){
    const address = document.getElementById('walletAddress').value;
    const qr = document.getElementById('qrCode');
    qr.src = 'https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=' + encodeURIComponent(address);
  }

  function copyAddress(){
    const el = document.getElementById('walletAddress');
    if(!el) return;
    navigator.clipboard.writeText(el.value).then(()=> {
      alert('üìã Address copied!');
    });
  }

  // ==================== SCREENSHOT UPLOAD & PREVIEW ====================
  function handleScreenshotUpload(evt){
    const file = evt.target.files[0];
    if(file){
      const reader = new FileReader();
      reader.onload = function(e){
        document.getElementById('previewImg').src = e.target.result;
        document.getElementById('screenshotPreview').style.display = 'block';
      };
      reader.readAsDataURL(file);
      
      // Auto-fill transaction ID
      const fake = 'TXN-' + Math.floor(100000 + Math.random()*900000);
      document.getElementById('txnId').value = fake;
    }
  }

  // ==================== 3-DIGIT CODE INPUT NAVIGATION ====================
  function moveToNext(current, nextId){
    if(current.value.length === 1){
      const next = document.getElementById(nextId);
      if(next) next.focus();
    }
  }

  function moveToPrev(event, current, prevId){
    if(event.key === 'Backspace' && current.value === ''){
      if(prevId){
        const prev = document.getElementById(prevId);
        if(prev) prev.focus();
      }
    }
  }

  function checkCode(){
    // Optional: Auto-verify when all 3 digits are entered
    const c1 = document.getElementById('code1').value;
    const c2 = document.getElementById('code2').value;
    const c3 = document.getElementById('code3').value;
    
    if(c1 && c2 && c3){
      console.log('Code entered:', c1 + c2 + c3);
    }
  }

  function handleAmountSelection(){
    const select = document.getElementById('verifyAmount');
    const customBox = document.getElementById('customAmountBox');
    if(select.value === 'custom'){
      customBox.style.display = 'block';
    } else {
      customBox.style.display = 'none';
    }
  }

  // ==================== VERIFY DEPOSIT WITH CODE CHECK ====================
  function verifyDeposit(){
    const name = document.getElementById('verifyName').value.trim();
    const txn = document.getElementById('txnId').value.trim();
    const selectValue = document.getElementById('verifyAmount').value;
    const c1 = document.getElementById('code1').value;
    const c2 = document.getElementById('code2').value;
    const c3 = document.getElementById('code3').value;
    const c4 = document.getElementById('code4').value;
    const code = c1 + c2 + c3 + c4;
    
    let amt = 0;
    
    if(selectValue === 'custom'){
      amt = parseFloat(document.getElementById('customAmount').value);
      if(isNaN(amt) || amt < 0 || amt > 400){
        const msg = document.getElementById('verifyMsg');
        msg.innerText = 'Please enter a valid custom amount between $0 and $400';
        msg.className = 'error';
        return;
      }
    } else {
      amt = parseFloat(selectValue);
    }
    
    const msg = document.getElementById('verifyMsg');
    msg.innerText = '';

    if(!name){
      msg.innerText = '‚ùå Please enter your name';
      msg.className = 'error';
      return;
    }

    if(!txn || isNaN(amt)){
      msg.innerText = '‚ùå Please fill transaction ID and select/enter amount';
      msg.className = 'error';
      return;
    }

    // Check if screenshot was uploaded
    const screenshot = document.getElementById('screenshot').files[0];
    if(!screenshot){
      msg.innerText = '‚ùå Please upload a screenshot of your transaction';
      msg.className = 'error';
      return;
    }

    // Check 4-character code (3 digits + 1 alphabet)
    if(code.length !== 4){
      msg.innerText = '‚ùå Please enter a valid 4-character verification code';
      msg.className = 'error';
      return;
    }
    
    // Validate format: exactly 3 digits and 1 alphabet
    const digitCount = (code.match(/\d/g) || []).length;
    const alphaCount = (code.match(/[a-zA-Z]/g) || []).length;
    
    if(digitCount !== 3 || alphaCount !== 1){
      msg.innerText = '‚ùå Code must contain exactly 3 numbers and 1 alphabet (e.g., 124i)';
      msg.className = 'error';
      return;
    }

    // Verify code (for demo, any 3 digits work, but you can add specific validation)
    // For example: if(code !== '123')...
    
    const mobile = localStorage.getItem('currentUser');
    if(!mobile){
      alert('Not logged in');
      return;
    }

    const uStr = localStorage.getItem('user_' + mobile);
    if(!uStr){
      alert('User data missing');
      return;
    }

    const user = JSON.parse(uStr);
    user.balance = (parseFloat(user.balance) || 0) + amt;
    localStorage.setItem('user_' + mobile, JSON.stringify(user));
    loadDashboard(user);

    msg.innerText = '‚úÖ Deposit verified! +$' + amt.toFixed(2) + ' added successfully! üéâ';
    msg.className = 'success';

    document.getElementById('verifyName').value = '';
    document.getElementById('txnId').value = '';
    document.getElementById('screenshot').value = '';
    document.getElementById('screenshotPreview').style.display = 'none';
    document.getElementById('verifyAmount').value = '';
    document.getElementById('customAmount').value = '';
    document.getElementById('customAmountBox').style.display = 'none';
    document.getElementById('code1').value = '';
    document.getElementById('code2').value = '';
    document.getElementById('code3').value = '';
    document.getElementById('code4').value = '';

    setTimeout(()=>{
      showPage('dashboard');
    }, 2500);
  }

  // ==================== WITHDRAW ====================
  function updateWithdrawBalance(){
    const mobile = localStorage.getItem('currentUser');
    if(!mobile) return;
    const uStr = localStorage.getItem('user_' + mobile);
    if(!uStr) return;
    const user = JSON.parse(uStr);
    document.getElementById('withdrawBalance').innerText = '$' + parseFloat(user.balance || 0).toFixed(2);
  }

  function submitWithdrawal(){
    let method = document.getElementById("method").value;
    let address = document.getElementById("address").value.trim();
    let amount = parseFloat(document.getElementById("amount").value);
    let message = document.getElementById("message");

    // Check KYC status first
    let mobile = localStorage.getItem("currentUser");
    if(mobile){
      let user = JSON.parse(localStorage.getItem("user_" + mobile));
      if(!user.kycCompleted){
        message.innerText = "‚ùå KYC verification required! Please complete KYC before withdrawal.";
        message.style.color = "#ff4444";
        return;
      }
    }

    if(!method || !address || isNaN(amount)){
      message.innerText = "‚ùå Please fill all fields";
      message.style.color = "#ff4444";
      return;
    }

    if(amount < 38){
      message.innerText = "‚ùå Minimum withdrawal: $38";
      message.style.color = "#ff4444";
      return;
    }

    let mobile = localStorage.getItem("currentUser");
    if(!mobile){
      message.innerText = "‚ùå Not logged in";
      message.style.color = "#ff4444";
      return;
    }

    let user = JSON.parse(localStorage.getItem("user_" + mobile));

    if(amount > user.balance){
      message.innerText = "‚ùå Insufficient balance";
      message.style.color = "#ff4444";
      return;
    }

    user.balance -= amount;
    localStorage.setItem("user_" + mobile, JSON.stringify(user));
    loadDashboard(user);

    message.innerText = "‚úÖ Withdrawal submitted! Processing: 24 to 48 hours ‚è∞";
    message.style.color = "#4CAF50";

    document.getElementById("method").value = "";
    document.getElementById("address").value = "";
    document.getElementById("amount").value = "";

    setTimeout(()=>{
      showPage('dashboard');
    }, 3000);
  }

  // ==================== TEAM ====================
  function loadTeamPage(){
    const mobile = localStorage.getItem('currentUser');
    if(!mobile) return;
    const uStr = localStorage.getItem('user_' + mobile);
    if(!uStr) return;
    const user = JSON.parse(uStr);
    document.getElementById('myCode').innerText = user.inviteCode || mobile;
    document.getElementById('teamCount').innerText = (user.teamMembers || 0);
    document.getElementById('teamCommission').innerText = ((user.teamCommission || 0)).toFixed(2);
  }

  function copyTeamCode(){
    const mobile = localStorage.getItem('currentUser');
    if(!mobile) return;
    const uStr = localStorage.getItem('user_' + mobile);
    if(!uStr) return;
    const user = JSON.parse(uStr);
    const code = user.inviteCode || mobile;
    navigator.clipboard.writeText(code).then(()=> {
      alert('üìã Invite code copied: ' + code);
    });
  }

  // ==================== TASK LOGIC ====================
  const taskBtn = document.getElementById('task-btn');
  const taskLoading = document.getElementById('task-loading');
  const timerBox = document.getElementById('timer-box');
  const TASK_INTERVAL = 24*60*60*1000;

  taskBtn.addEventListener('click', doTask);

  function doTask(){
    const mobile = localStorage.getItem('currentUser');
    if(!mobile){
      alert('Please login first');
      return;
    }

    // Check if balance is at least $100
    const uStr = localStorage.getItem('user_' + mobile);
    const user = JSON.parse(uStr);
    const currentBalance = parseFloat(user.balance) || 0;
    
    if(currentBalance < 100){
      alert('‚ùå You need a minimum balance of $100 to perform this task');
      return;
    }

    taskBtn.disabled = true;
    taskBtn.style.display = 'none';
    taskLoading.style.display = 'block';

    setTimeout(()=>{
      // Re-check balance before rewarding (in case it changed)
      const uStrFresh = localStorage.getItem('user_' + mobile);
      const userFresh = JSON.parse(uStrFresh);
      const freshBalance = parseFloat(userFresh.balance) || 0;
      
      if(freshBalance < 100){
        taskLoading.style.display = 'none';
        taskBtn.style.display = 'block';
        taskBtn.disabled = false;
        alert('‚ùå You need a minimum balance of $100 to perform this task');
        return;
      }

      const reward = 3.76;
      userFresh.balance = freshBalance + reward;
      localStorage.setItem('user_' + mobile, JSON.stringify(userFresh));
      localStorage.setItem('lastTaskTime', String(Date.now()));

      loadDashboard(userFresh);
      taskLoading.style.display = 'none';
      taskBtn.style.display = 'block';
      alert('‚úÖ Task completed! +$' + reward.toFixed(2) + ' earned! üéâ');
      updateTimer();
    }, 3000);
  }

  function updateTimer(){
    const last = localStorage.getItem('lastTaskTime');
    if(!last){
      timerBox.innerText = '‚úÖ You can do the task now!';
      taskBtn.disabled = false;
      return;
    }

    const now = Date.now();
    const diff = TASK_INTERVAL - (now - Number(last));

    if(diff <= 0){
      timerBox.innerText = '‚úÖ You can do the task now!';
      taskBtn.disabled = false;
      return;
    }

    taskBtn.disabled = true;
    const hrs = Math.floor(diff / (1000*60*60));
    const mins = Math.floor((diff % (1000*60*60)) / (1000*60));
    const secs = Math.floor((diff % (1000*60)) / 1000);
    timerBox.innerText = `‚è∞ Next task available in: ${hrs.toString().padStart(2,'0')}:${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;

    setTimeout(updateTimer, 1000);
  }

  // ==================== WITHDRAWAL STATUS CHECK ====================
  function showWithdrawStatusInput(){
    const statusSection = document.getElementById('withdrawStatusSection');
    const resultSection = document.getElementById('withdrawStatusResult');
    
    // Toggle visibility
    if(statusSection.style.display === 'none'){
      statusSection.style.display = 'block';
      resultSection.style.display = 'none';
      document.getElementById('withdrawStatusName').value = '';
    } else {
      statusSection.style.display = 'none';
      resultSection.style.display = 'none';
    }
  }

  function checkWithdrawalStatus(){
    const nameInput = document.getElementById('withdrawStatusName').value.trim();
    
    if(!nameInput){
      alert('‚ùå Please enter your name');
      return;
    }

    const nameLower = nameInput.toLowerCase();
    const resultSection = document.getElementById('withdrawStatusResult');
    const statusSection = document.getElementById('withdrawStatusSection');
    
    // Define withdrawal data for different names
    const withdrawalData = {
      'khalid': {
        name: 'Khalid',
        amount: '$47',
        address: '0x68e5043328dcb36101ed2c9069ab386ee9b28b80',
        date: '15 December, 2025',
        time: '4:10 PM',
        txid: '335056382042'
      },
      'obaid': {
        name: 'Obaid',
        amount: '$165',
        address: '0x68e5043328dcb36101ed2c9069ab386ee9b28b80',
        date: '16 December, 2025',
        time: '2:35 PM',
        txid: '447182593156'
      }
    };

    // Check if name matches
    if(withdrawalData[nameLower]){
      const data = withdrawalData[nameLower];
      
      // Fill in the result
      document.getElementById('resultName').innerText = data.name;
      document.getElementById('resultAmount').innerText = data.amount;
      document.getElementById('resultAddress').innerText = data.address;
      document.getElementById('resultDate').innerText = data.date;
      document.getElementById('resultTime').innerText = data.time;
      document.getElementById('resultTxid').innerText = data.txid;
      
      // Show result, hide input
      statusSection.style.display = 'none';
      resultSection.style.display = 'block';
    } else {
      alert('‚ùå No withdrawal record found for "' + nameInput + '"');
    }
  }

  // ==================== KYC FUNCTIONS ====================
  function handleKycIdUpload(evt){
    const file = evt.target.files[0];
    if(file){
      const reader = new FileReader();
      reader.onload = function(e){
        document.getElementById('kycIdImg').src = e.target.result;
        document.getElementById('kycIdPreview').style.display = 'block';
      };
      reader.readAsDataURL(file);
    }
  }

  function handleKycFaceUpload(evt){
    const file = evt.target.files[0];
    if(file){
      const reader = new FileReader();
      reader.onload = function(e){
        document.getElementById('kycFaceImg').src = e.target.result;
        document.getElementById('kycFacePreview').style.display = 'block';
      };
      reader.readAsDataURL(file);
    }
  }

  function submitKYC(){
    const fullName = document.getElementById('kycFullName').value.trim();
    const idNumber = document.getElementById('kycIdNumber').value.trim();
    const address = document.getElementById('kycAddress').value.trim();
    const idScreenshot = document.getElementById('kycIdScreenshot').files[0];
    const faceScreenshot = document.getElementById('kycFaceScreenshot').files[0];
    const message = document.getElementById('kycMessage');

    // Validation
    if(!fullName){
      message.innerText = '‚ùå Please enter your full name';
      message.className = 'error';
      return;
    }

    if(!idNumber){
      message.innerText = '‚ùå Please enter your ID card number';
      message.className = 'error';
      return;
    }

    if(!idScreenshot){
      message.innerText = '‚ùå Please upload your ID card screenshot';
      message.className = 'error';
      return;
    }

    if(!faceScreenshot){
      message.innerText = '‚ùå Please upload your face photo';
      message.className = 'error';
      return;
    }

    if(!address){
      message.innerText = '‚ùå Please enter your address';
      message.className = 'error';
      return;
    }

    const mobile = localStorage.getItem('currentUser');
    if(!mobile){
      alert('Not logged in');
      return;
    }

    const uStr = localStorage.getItem('user_' + mobile);
    if(!uStr){
      alert('User data missing');
      return;
    }

    const user = JSON.parse(uStr);
    
    // Store KYC submission time
    const kycSubmitTime = Date.now();
    user.kycSubmitTime = kycSubmitTime;
    user.kycData = {
      fullName: fullName,
      idNumber: idNumber,
      address: address,
      submitDate: new Date().toISOString()
    };
    localStorage.setItem('user_' + mobile, JSON.stringify(user));

    message.innerText = '‚úÖ KYC submitted successfully! Your verification will be completed within 48 hours.';
    message.className = 'success';

    // Auto-approve after 48 hours (simulate review process)
    setTimeout(function(){
      checkKYCApproval();
    }, 2000); // Check immediately for demo, but in real app would be 48 hours

    // For demo purposes, auto-approve after 5 seconds
    setTimeout(function(){
      const mobile = localStorage.getItem('currentUser');
      if(mobile){
        const user = JSON.parse(localStorage.getItem('user_' + mobile));
        user.kycCompleted = true;
        localStorage.setItem('user_' + mobile, JSON.stringify(user));
        
        // Show success status
        document.getElementById('kycForm').style.display = 'none';
        document.getElementById('kycStatus').style.display = 'block';
        
        alert('‚úÖ Successfully KYC Completed! You can now make withdrawals.');
      }
    }, 5000);
  }

  function checkKYCApproval(){
    const mobile = localStorage.getItem('currentUser');
    if(!mobile) return;

    const user = JSON.parse(localStorage.getItem('user_' + mobile));
    if(!user || !user.kycSubmitTime) return;

    const now = Date.now();
    const timePassed = now - user.kycSubmitTime;
    const HOURS_48 = 48 * 60 * 60 * 1000;

    // If 48 hours passed, auto-approve
    if(timePassed >= HOURS_48 && !user.kycCompleted){
      user.kycCompleted = true;
      localStorage.setItem('user_' + mobile, JSON.stringify(user));
      
      // Show success status if on KYC page
      if(document.getElementById('kyc').style.display === 'flex'){
        document.getElementById('kycForm').style.display = 'none';
        document.getElementById('kycStatus').style.display = 'block';
        alert('‚úÖ Successfully KYC Completed! Your verification has been approved.');
      }
    }
  }

  // Check KYC status when loading KYC page
  function loadKYCPage(){
    const mobile = localStorage.getItem('currentUser');
    if(!mobile) return;

    const user = JSON.parse(localStorage.getItem('user_' + mobile));
    if(!user) return;

    if(user.kycCompleted){
      document.getElementById('kycForm').style.display = 'none';
      document.getElementById('kycStatus').style.display = 'block';
    } else {
      document.getElementById('kycForm').style.display = 'block';
      document.getElementById('kycStatus').style.display = 'none';
      checkKYCApproval(); // Check if 48 hours passed
    }
  }

  // Modify existing showPage function to handle KYC page loading
  const originalShowPageFunc = showPage;
  showPage = function(id){
    document.querySelectorAll('.page-section').forEach(s=>s.style.display='none');
    const el = document.getElementById(id);
    if(el) el.style.display = 'flex';
    
    if(id === 'dashboard'){
      showNotification();
    }
    
    if(id === 'recharge') generateQRCode();
    if(id === 'team') loadTeamPage();
    if(id === 'withdraw') updateWithdrawBalance();
    if(id === 'kyc') loadKYCPage();
  };
</script>
</body>
</html>

